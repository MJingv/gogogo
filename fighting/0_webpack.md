# webpack

Vite 适用于快速的开发体验，Rollup 适用于构建库或按需加载的应用，Webpack 适用于构建复杂的应用，esbuild 适用于追求极致性能的项目

热更新 hot replacement
https://juejin.cn/post/7021729340945596424
保持页面的状态下动态替换资源

简单原理

- webpack监听文件变化通过websocket发送change
- 浏览器通过module.hot.accept接口告诉webpack如何替换

webpack4和5区别

- 5引入持久化缓存，提高增量构建速度。引入federation特性，实现跨项目共享模块，减少重复打包
- tree shaking优化，引入sideeffects，更精准的判断哪些模块有副作用
- 支持es模块

webpack原理
https://juejin.cn/post/6844903630554808334

模块：图片、字体、样式、html所有的资源都是模块

为什么需要模块化

- 代码组织和管理
- 代码复用
- 性能优化
- 可维护和可测试性

webpack可以做什么

- 代码拆分。有同步和异步的依赖方式。异步依赖作为分割点，形成新的块，优化依赖树后，每一个异步区块都作为一个文件被打包。
- loader。可以将任务资源转成js。
- 智能解析。处理任务第三方库
- 插件系统。
- 快速运行。异步io，多级缓存

打包-把分散小模块按规则整合成一个大模块
- 结果：把页面逻辑当作一个整体，给一个入口文件，从这个文件开始找到所有依赖，进行打包、编译、压缩，最后输出一个js文件
- 






